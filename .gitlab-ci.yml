include: "https://gitlab.gnome.org/GNOME/citemplates/raw/master/flatpak/flatpak_ci_initiative.yml"

variables:
    BUNDLE: "app-icon-preview.flatpak"
    GIT_SUBMODULE_STRATEGY: normal

flatpak:
    variables:
        MANIFEST_PATH: "org.gnome.design.AppIconPreview.json"
        FLATPAK_MODULE: "app-icon-preview"
        RUNTIME_REPO: "https://nightly.gnome.org/gnome-nightly.flatpakrepo"
        APP_ID: "org.gnome.design.AppIconPreview.Devel"
    extends: .flatpak

lint:
  image: valalang/lint:latest
  script:
    - io.elementary.vala-lint -c .vala-lint.conf src

